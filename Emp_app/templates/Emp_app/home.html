{% extends "Emp_app/base.html" %}

{% load lower_filter %}

{% block css %}
<style>
    .slider-container {
        position: relative;
        overflow: hidden;
        max-width: 100%;
        margin: 20px auto;
    }

    .slides {
        display: flex;
        transition: transform 0.5s ease;
    }

    .slide-image {
        width: 50%;
        display: block;
    }

    .prev,
    .next {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0, 0, 0, 0.5);
        color: white;
        border: none;
        cursor: pointer;
        padding: 10px;
        z-index: 100;
    }

    .prev {
        left: 10px;
        margin-top: -20%;
    }

    .next {
        right: 10px;
        margin-top: -20%;
    }


    table {
        margin: 50px;
        margin-top: 100px;
        margin-left: 65px;
    }


    table {
        border-collapse: collapse;
        width: 80%;
    }

    th, td {
        padding: 8px;
        text-align: center;
        border: 1px solid black;
    }
</style>

{% endblock %}


{% block content %}

{% load lower_filter %}
<h1>{{value|program_to_string}}</h1>
<h1>{{value|centertype_to_string}}</h1>

<div class="slider-container">
    <div class="slides">

        <img src="/static/16.jpg" alt="" class="slide-image active">
        <img src="/static/17.jpg" alt="" class="slide-image">
        <img src="/static/18.jpg" alt="" class="slide-image">
        <img src="/static/19.jpg" alt="" class="slide-image">
        <img src="/static/20.jpg" alt="" class="slide-image">
        <img src="/static/21.jpg" alt="" class="slide-image">
        <img src="/static/22.jpg" alt="" class="slide-image">
        <img src="/static/23.jpg" alt="" class="slide-image">
        <img src="/static/25.jpg" alt="" class="slide-image">
        <img src="/static/26.jpg" alt="" class="slide-image">
        <img src="/static/26.jpg" alt="" class="slide-image">
        <img src="/static/27.jpg" alt="" class="slide-image">
        <img src="/static/28.jpg" alt="" class="slide-image">
        <img src="/static/29.jpg" alt="" class="slide-image">
        <img src="/static/1.jpeg" alt="" class="slide-image">
        <img src="/static/2.jpeg" alt="" class="slide-image">
        <img src="/static/3.jpeg" alt="" class="slide-image">
        <img src="/static/4.jpeg" alt="" class="slide-image">
        <img src="/static/5.jpeg" alt="" class="slide-image">
        <img src="/static/6.jpeg" alt="" class="slide-image">
        <img src="/static/7.jpeg" alt="" class="slide-image">
        <img src="/static/8.jpeg" alt="" class="slide-image">
        <img src="/static/9.jpeg" alt="" class="slide-image">
        <img src="/static/10.jpeg" alt="" class="slide-image">
        <img src="/static/11.jpeg" alt="" class="slide-image">
        <img src="/static/12.jpeg" alt="" class="slide-image">
        <img src="/static/13.jpeg" alt="" class="slide-image">
        <img src="/static/15.jpeg" alt="" class="slide-image">



    </div>
    <button class="prev" id="prev">&#10094;</button>
    <button class="next" id="next">&#10095;</button>

    <div class="table">

        <table bgcolor="">
            <tr bgcolor="orange">

                <th>Date</th>
                <th>Program</th>
                <th>Project</th>
                <th>Activity</th>
                <th>Center Type</th>
                <th>Beneficiaries</th>


            </tr>
            {% for program in programs %}
            <tr bgcolor="white">
                <td>{{ program.date }}</td>
                <td>{{ program.pgm_id|program_to_string }}</td>
                <td>{{ program.xref.project_name }}</td>
                <td>{{ program.activity }}</td>
                <td>{{ program.center_type|centertype_to_string }}</td>
                <td>{{ program.beneficiaries }}</td>
            </tr>
            {% endfor %}



        </table>

    </div>
</div>

<script>
    const slides = document.querySelector('.slides');
    const slideImages = document.querySelectorAll('.slide-image');
    const prevButton = document.getElementById('prev');
    const nextButton = document.getElementById('next');

    let slideIndex = 0;

    function showSlides() {
        slideIndex++;
        if (slideIndex >= slideImages.length) {
            slideIndex = 0;
        }
        slides.style.transform = `translateX(-${slideIndex * 100}%)`;
    }

    let slideInterval = setInterval(showSlides, 3000); // Change slide every 3 seconds

    function stopInterval() {
        clearInterval(slideInterval);
    }

    function startInterval() {
        slideInterval = setInterval(showSlides, 3000); // Change slide every 3 seconds
    }

    slides.addEventListener('mouseenter', stopInterval);
    slides.addEventListener('mouseleave', startInterval);

    prevButton.addEventListener('click', () => {
        if (slideIndex > 0) {
            slideIndex--;
            slides.style.transform = `translateX(-${slideIndex * 100}%)`;
        }
        stopInterval();
    });

    nextButton.addEventListener('click', () => {
        if (slideIndex < slideImages.length - 1) {
            slideIndex++;
            slides.style.transform = `translateX(-${slideIndex * 100}%)`;
        }
        stopInterval();
    });

    startInterval(); // Start automatic sliding on page load

</script>



{% endblock %}



